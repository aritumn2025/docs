# シューティングゲームの仕様書

## 概要

- タイトル: 未定
- PVE の 4 人協力型シューティングゲーム
- プレイヤーは中央にある地球を守るために、四方から迫りくる敵を撃退する
- 制限時間まで地球を守りきればクリア。途中で地球の体力が 0 になるとゲームオーバー
- 誰でもゲームクリアできるというよりは、ゲームクリアを難しくしてどれだけ長く守れるかを競うようにしたい

## ゲームの流れ

- 画面中央に地球、周り(上下左右)にプレイヤーが初期配置
- 敵はプレイヤーと地球に対して攻撃する
- 敵は四方(ウェーブごとに来る方向が変化)から出現し地球の方へ近づいてくる
- 時間が経過するほど以下の要素が強化される
  - 敵の数が増える
  - 強い敵やボス的な敵が出現 -> 体力や攻撃力・攻撃方法が強化
  - ウェーブの来る方向が増える
- プレイヤーは移動と敵への攻撃が可能で
- 4 人で協力して敵を撃退し、地球を守るのが目的
- 一定時間の間、地球が破壊されなければクリア
- 制限時間は 3 分くらい。その他チュートリアルなど含めて 5 分くらい

## 地球

- 画面中央で固定
- 地球は体力があり、敵の攻撃を受けると体力が減る
- 体力が 0 になるとゲームオーバー

## 敵

### 基本的な挙動

- 移動 + 攻撃（体当たり攻撃 + 弾攻撃）が可能
- 移動は地球の方へ近づく -> 地球に到達すると体当たり攻撃しその後消える（自爆的な演出？）
- プレイヤーの攻撃を受けると体力が減る -> 体力が 0 になると消える

### 攻撃

- 敵は体当たりと弾で攻撃
  - 弾(以下、弾攻撃)は**プレイヤーのみ**に当たる
  - 体当たりは**地球とプレイヤー**に当たる -> 攻撃後消える
- プレイヤーに攻撃があたった際はプレイヤーがスタン状態となる（後述） -> 攻撃力の概念なし
- 地球へ攻撃した際は地球の体力が減る -> 攻撃力の概念あり

### 敵の強さ

- 時間経過で敵の強さが増す
- 敵の強さは以下の点が強化することで表現
  - 体力が増える
  - 攻撃力が増える
  - 攻撃方法が増える（体当たりのみ -> 体当たり + 弾攻撃 -> 弾攻撃の範囲・速さなどが強化される）
  - （移動速度については敵によって異なり、**強さとはあまり関係しない**）
- さらに、敵の種類や数の増加・ボス的な敵の出現・ウェーブの来る方向が増えるなども強さの増加に寄与する

### 敵の種類（案）

1. ザコ敵（体当たりのみ）

   - 体力低め、攻撃力低め、移動速度普通
   - 体当たりのみ

2. ザコ敵（通常弾）

   - 体力低め、攻撃力低め、移動速度普通
   - 体当たり + 弾攻撃（通常弾）
   - 倍率を変えることで、攻撃力や体力・弾攻撃の頻度が変化・その際には強さがわかるように色分けする

3. ザコ敵（特殊弾）

   - 体力中、攻撃力中、移動速度遅い
   - 体当たり + 弾攻撃（特殊弾）
   - 倍率を変えることで、攻撃力や体力・弾攻撃の頻度が変化・その際には強さがわかるように色分けする

4. ボス敵

   - 体力高め、攻撃力高め、移動速度遅い
   - 体当たり + 弾攻撃（特殊弾）
   - 1 ウェーブに 1 体程度

敵の弾攻撃は以下のものを提案（実装コストと相談）

- 通常弾（単発弾: ザコ敵（通常）の攻撃）
- n 発連射弾
- 拡散弾
- レーザー弾 -> 細長い弾
- 爆弾

## プレイヤー

### 基本的な挙動

- 移動 + 攻撃が可能
- 攻撃は 4 種類あり、性格診断の結果によって決定（後述）
  - マシンガン
  - 爆発弾
  - レーザー
  - 波動
- プレイヤーは攻撃されるとスタン + 一定時間無敵 -> 体力の概念なし（ただし、攻撃を受けた回数はスコアに影響）

### 操作方法

- 操作は移動 + 攻撃
- 移動は十字キー: 4 方向に移動 + プレイヤーの向きが移動方向に変化
- 攻撃はボタン: 押している間プレイヤーが向いている方向に攻撃

### 攻撃

#### マシンガン

- 性質
  - 連射できる弾
  - 弾速が速い
  - 連射間隔は短い
- 強み
  - 弾が速く、当てやすい
  - 連射できるため、雑魚敵を素早く倒せる
- 弱み
  - 1 発あたりのダメージが小さい
  - 敵が密集しているときにまとめて倒すのは苦手

#### 爆発弾

- 性質
  - 普通のシューティングゲームの細切れ玉
  - 敵や障害物に当たると爆発
  - 爆風は小さめの円形範囲ダメージ
  - 連射間隔はやや長め
    - 数発連続？実装が楽な方で
- 強み
  - 火力が高い
  - 敵が密集しているとき爆風で複数同時に倒せる
  - 爆風判定でわずかに隠れた敵にも当たりやすい
- 弱み
  - 弾が小さく、遅い → 当てづらい
  - 小型敵 1 体だけに当てるとダメージの無駄が大きい

#### レーザー

- 性質
  - 無限長の攻撃
  - 太さは雑魚敵１体分
- 強み
  - 敵を貫通して攻撃ができる
  - 射線上の敵に必ず当たるため、当てやすい
  - 直線上の複数敵をまとめて攻撃可能
- 弱み
  - 敵が左右に散らばっていると対応しづらい
  - 爆発弾より与ダメージが小さく、高耐久の敵相手には時間がかかる

#### 波動弾

- 性質
  - 扇形の攻撃
  - 飛距離が伸びると、弾の幅も広くなる
- 強み
  - 敵の位置ズレや軌道変化に強く、当てやすい
  - 雑魚処理や集団相手に便利
- 弱み
  - 射程が短く、後方の敵には届かない
  - 単体相手には火力不足

## スコア

- スコアは `守れた時間 + 地球の体力(ゲームオーバー時は 0) - 自分が攻撃を受けた回数`（重みは要調整）

## レイアウト

- タイトル
- チュートリアル（文章 + 写真） -> ゲーム外での説明（ポスターや紙）でもいいかも？
- 操作方法レクチャー（実際に操作する） + ゲーム画面
- リザルト画面

## その他

- プレイヤー情報の設定方法は以下のようにする
  - 性格診断側のシステムでプレイヤーの基本情報（ID, 名前, 性格）を登録
  - ゲームシステムでは特定の API を叩くことで、プレイヤー情報を取得できる
  - ゲーム終了後にはスコア登録できる API を叩く（このときに ID を使用する）
